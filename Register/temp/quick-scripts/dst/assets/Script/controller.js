
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/controller.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '179cdFiHcRHD5O9VUEiHvww', 'controller');
// Script/controller.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    _listId: [],
    _listPass: [],
    _listPhone: [],
    username: {
      "default": null,
      type: cc.EditBox
    },
    password: {
      "default": null,
      type: cc.EditBox
    },
    confirmPass: {
      "default": null,
      type: cc.EditBox
    },
    phoneNumber: {
      "default": null,
      type: cc.EditBox
    },
    matchId: cc.Node,
    lowId: cc.Node,
    lowPass: cc.Node,
    rePass: cc.Node,
    rePhone: cc.Node,
    fail: cc.AudioClip,
    success: cc.AudioClip,
    infoSuccess: cc.AudioClip,
    backAudio: cc.AudioClip,
    nextAudio: cc.AudioClip,
    //scene
    firstScene: cc.Node,
    secondScene: cc.Node,
    thirdScene: cc.Node,
    //congratuation
    idInfo: cc.Label,
    passInfo: cc.Label,
    phoneInfo: cc.Label,
    userInfo: cc.Prefab,
    contentUser: cc.Node
  },
  first_Scene: function first_Scene() {
    this.firstScene.active = true;
    this.secondScene.active = false;
    this.thirdScene.active = false;
    cc.audioEngine.play(this.backAudio, false, 3);
  },
  second_Scene: function second_Scene() {
    cc.audioEngine.play(this.infoSuccess, false, 3);
    this.firstScene.active = false;
    this.secondScene.active = true;
    this.thirdScene.active = false;
  },
  third_Scene: function third_Scene() {
    this.firstScene.active = false;
    this.secondScene.active = false;
    this.thirdScene.active = true;
    cc.audioEngine.play(this.nextAudio, false, 3);
  },
  sighUpSuccess: function sighUpSuccess() {
    if (this.lowPassword() == true && this.reEnterPhone() == true && this.reEnterPass() == true && this.isMatchId() == true) {
      cc.audioEngine.play(this.success, false, 3);

      if (this.findId(this.username.string) == false) {
        this._listId.push(this.username.string);

        this._listPass.push(this.password.string);

        this._listPhone.push(this.phoneNumber.string);

        cc.log(this._listId);
        this.infoTable();
        this.second_Scene();
        this.newSignup();
        return true;
      }
    } else if (this.lowPassword() == false || this.reEnterPhone() == false || this.reEnterPass() == false || this.isMatchId() == false) {
      cc.audioEngine.play(this.fail, false, 1);
      return false;
    }
  },
  isMatchId: function isMatchId() {
    if (this.username.string.length < 6) {
      this.lowId.active = true;
      return false;
    } else {
      this.lowId.active = false;
      this.findId(this.username.string);

      if (this.findId(this.username.string) == true) {
        this.matchId.active = true;
        return false;
      } else {
        this.matchId.active = false;
        return true;
      }
    }
  },
  findId: function findId(value) {
    if (this._listId.length == 0) {
      return false;
    }

    for (var index = 0; index < this._listId.length; index++) {
      if (value == this._listId[index]) {
        cc.log("value " + this._listId[index]);
        return true;
      }
    }

    return false;
  },
  lowPassword: function lowPassword() {
    if (this.password.string.length < 6) {
      this.lowPass.active = true;
      this.rePass.active = false;
      return false;
    } else {
      this.lowPass.active = false;
      this.reEnterPass.active = false;
      return true;
    }
  },
  reEnterPass: function reEnterPass() {
    if (this.password.string != this.confirmPass.string) {
      this.rePass.active = true;
      this.lowPass.active = false;
      return false;
    } else {
      this.rePass.active = false;
      this.lowPass.active = false;
      return true;
    }
  },
  reEnterPhone: function reEnterPhone() {
    if (this.phoneNumber.string == "") {
      this.rePhone.active = true;
      cc.audioEngine.play(this.fail, false, 1);
      return false;
    } else {
      this.rePhone.active = false;
      return true;
    }
  },
  informationUser: function informationUser() {
    this.idInfo.string = this._listId[this._listId.length - 1];
    this.passInfo.string = this._listPass[this._listPass.length - 1];
    this.phoneInfo.string = this._listPhone[this._listPhone.length - 1];
  },
  infoTable: function infoTable() {
    var item = cc.instantiate(this.userInfo);
    this.contentUser.addChild(item);
    var userNode = item.getChildByName("userNode");
    var passNode = item.getChildByName("passNode");
    var phoneNode = item.getChildByName("phoneNode");
    var usertxt = userNode.getChildByName("usertxt");
    var passtxt = passNode.getChildByName("passtxt");
    var phonetxt = phoneNode.getChildByName("phonetxt");
    var userlb = usertxt.getComponent(cc.Label);
    var passlb = passtxt.getComponent(cc.Label);
    var phonelb = phonetxt.getComponent(cc.Label);
    userlb.string = this.username.string;
    passlb.string = this.password.string;
    phonelb.string = this.phoneNumber.string;
  },
  newSignup: function newSignup() {
    this.username.string = "";
    this.password.string = "";
    this.confirmPass.string = "";
    this.phoneNumber.string = "";
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0XFxjb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwiX2xpc3RJZCIsIl9saXN0UGFzcyIsIl9saXN0UGhvbmUiLCJ1c2VybmFtZSIsInR5cGUiLCJFZGl0Qm94IiwicGFzc3dvcmQiLCJjb25maXJtUGFzcyIsInBob25lTnVtYmVyIiwibWF0Y2hJZCIsIk5vZGUiLCJsb3dJZCIsImxvd1Bhc3MiLCJyZVBhc3MiLCJyZVBob25lIiwiZmFpbCIsIkF1ZGlvQ2xpcCIsInN1Y2Nlc3MiLCJpbmZvU3VjY2VzcyIsImJhY2tBdWRpbyIsIm5leHRBdWRpbyIsImZpcnN0U2NlbmUiLCJzZWNvbmRTY2VuZSIsInRoaXJkU2NlbmUiLCJpZEluZm8iLCJMYWJlbCIsInBhc3NJbmZvIiwicGhvbmVJbmZvIiwidXNlckluZm8iLCJQcmVmYWIiLCJjb250ZW50VXNlciIsImZpcnN0X1NjZW5lIiwiYWN0aXZlIiwiYXVkaW9FbmdpbmUiLCJwbGF5Iiwic2Vjb25kX1NjZW5lIiwidGhpcmRfU2NlbmUiLCJzaWdoVXBTdWNjZXNzIiwibG93UGFzc3dvcmQiLCJyZUVudGVyUGhvbmUiLCJyZUVudGVyUGFzcyIsImlzTWF0Y2hJZCIsImZpbmRJZCIsInN0cmluZyIsInB1c2giLCJsb2ciLCJpbmZvVGFibGUiLCJuZXdTaWdudXAiLCJsZW5ndGgiLCJ2YWx1ZSIsImluZGV4IiwiaW5mb3JtYXRpb25Vc2VyIiwiaXRlbSIsImluc3RhbnRpYXRlIiwiYWRkQ2hpbGQiLCJ1c2VyTm9kZSIsImdldENoaWxkQnlOYW1lIiwicGFzc05vZGUiLCJwaG9uZU5vZGUiLCJ1c2VydHh0IiwicGFzc3R4dCIsInBob25ldHh0IiwidXNlcmxiIiwiZ2V0Q29tcG9uZW50IiwicGFzc2xiIiwicGhvbmVsYiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQUEsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFD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LGNBQVYsQ0FBeUIsVUFBekIsQ0FBZjtBQUVBLFFBQUlNLE1BQU0sR0FBR0gsT0FBTyxDQUFDSSxZQUFSLENBQXFCbkUsRUFBRSxDQUFDNkIsS0FBeEIsQ0FBYjtBQUNBLFFBQUl1QyxNQUFNLEdBQUdKLE9BQU8sQ0FBQ0csWUFBUixDQUFxQm5FLEVBQUUsQ0FBQzZCLEtBQXhCLENBQWI7QUFDQSxRQUFJd0MsT0FBTyxHQUFHSixRQUFRLENBQUNFLFlBQVQsQ0FBc0JuRSxFQUFFLENBQUM2QixLQUF6QixDQUFkO0FBRUFxQyxJQUFBQSxNQUFNLENBQUNuQixNQUFQLEdBQWdCLEtBQUt4QyxRQUFMLENBQWN3QyxNQUE5QjtBQUNBcUIsSUFBQUEsTUFBTSxDQUFDckIsTUFBUCxHQUFnQixLQUFLckMsUUFBTCxDQUFjcUMsTUFBOUI7QUFDQXNCLElBQUFBLE9BQU8sQ0FBQ3RCLE1BQVIsR0FBaUIsS0FBS25DLFdBQUwsQ0FBaUJtQyxNQUFsQztBQUVILEdBOUtJO0FBK0tMSSxFQUFBQSxTQS9LSyx1QkErS087QUFDUixTQUFLNUMsUUFBTCxDQUFjd0MsTUFBZCxHQUF1QixFQUF2QjtBQUNBLFNBQUtyQyxRQUFMLENBQWNxQyxNQUFkLEdBQXVCLEVBQXZCO0FBQ0EsU0FBS3BDLFdBQUwsQ0FBaUJvQyxNQUFqQixHQUEwQixFQUExQjtBQUNBLFNBQUtuQyxXQUFMLENBQWlCbUMsTUFBakIsR0FBMEIsRUFBMUI7QUFDSDtBQXBMSSxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBfbGlzdElkOiBbXSxcclxuICAgICAgICBfbGlzdFBhc3M6IFtdLFxyXG4gICAgICAgIF9saXN0UGhvbmU6IFtdLFxyXG4gICAgICAgIHVzZXJuYW1lOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkVkaXRCb3gsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXNzd29yZDoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICAgICAgICB0eXBlOiBjYy5FZGl0Qm94LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29uZmlybVBhc3M6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuRWRpdEJveCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBob25lTnVtYmVyOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkVkaXRCb3gsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtYXRjaElkOiBjYy5Ob2RlLFxyXG4gICAgICAgIGxvd0lkOiBjYy5Ob2RlLFxyXG4gICAgICAgIGxvd1Bhc3M6IGNjLk5vZGUsXHJcbiAgICAgICAgcmVQYXNzOiBjYy5Ob2RlLFxyXG4gICAgICAgIHJlUGhvbmU6IGNjLk5vZGUsXHJcbiAgICAgICAgZmFpbDogY2MuQXVkaW9DbGlwLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGNjLkF1ZGlvQ2xpcCxcclxuICAgICAgICBpbmZvU3VjY2VzczogY2MuQXVkaW9DbGlwLFxyXG4gICAgICAgIGJhY2tBdWRpbzogY2MuQXVkaW9DbGlwLFxyXG4gICAgICAgIG5leHRBdWRpbzogY2MuQXVkaW9DbGlwLFxyXG4gICAgICAgIC8vc2NlbmVcclxuICAgICAgICBmaXJzdFNjZW5lOiBjYy5Ob2RlLFxyXG4gICAgICAgIHNlY29uZFNjZW5lOiBjYy5Ob2RlLFxyXG4gICAgICAgIHRoaXJkU2NlbmU6IGNjLk5vZGUsXHJcbiAgICAgICAgLy9jb25ncmF0dWF0aW9uXHJcbiAgICAgICAgaWRJbmZvOiBjYy5MYWJlbCxcclxuICAgICAgICBwYXNzSW5mbzogY2MuTGFiZWwsXHJcbiAgICAgICAgcGhvbmVJbmZvOiBjYy5MYWJlbCxcclxuICAgICAgICB1c2VySW5mbzogY2MuUHJlZmFiLFxyXG4gICAgICAgIGNvbnRlbnRVc2VyOiBjYy5Ob2RlLFxyXG4gICAgfSxcclxuICAgIGZpcnN0X1NjZW5lKCkge1xyXG4gICAgICAgIHRoaXMuZmlyc3RTY2VuZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2Vjb25kU2NlbmUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50aGlyZFNjZW5lLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnBsYXkodGhpcy5iYWNrQXVkaW8sIGZhbHNlLCAzKTtcclxuICAgIH0sXHJcbiAgICBzZWNvbmRfU2NlbmUoKSB7XHJcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUucGxheSh0aGlzLmluZm9TdWNjZXNzLCBmYWxzZSwgMyk7XHJcbiAgICAgICAgdGhpcy5maXJzdFNjZW5lLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2Vjb25kU2NlbmUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRoaXJkU2NlbmUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9LFxyXG4gICAgdGhpcmRfU2NlbmUoKSB7XHJcbiAgICAgICAgdGhpcy5maXJzdFNjZW5lLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2Vjb25kU2NlbmUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50aGlyZFNjZW5lLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUucGxheSh0aGlzLm5leHRBdWRpbywgZmFsc2UsIDMpO1xyXG4gICAgfSxcclxuICAgIHNpZ2hVcFN1Y2Nlc3MoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubG93UGFzc3dvcmQoKSA9PSB0cnVlICYmIHRoaXMucmVFbnRlclBob25lKCkgPT0gdHJ1ZSAmJiB0aGlzLnJlRW50ZXJQYXNzKCkgPT0gdHJ1ZSAmJiB0aGlzLmlzTWF0Y2hJZCgpID09IHRydWUpIHtcclxuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGxheSh0aGlzLnN1Y2Nlc3MsIGZhbHNlLCAzKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmluZElkKHRoaXMudXNlcm5hbWUuc3RyaW5nKSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlzdElkLnB1c2godGhpcy51c2VybmFtZS5zdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlzdFBhc3MucHVzaCh0aGlzLnBhc3N3b3JkLnN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9saXN0UGhvbmUucHVzaCh0aGlzLnBob25lTnVtYmVyLnN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2codGhpcy5fbGlzdElkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5mb1RhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlY29uZF9TY2VuZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXdTaWdudXAoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmxvd1Bhc3N3b3JkKCkgPT0gZmFsc2UgfHwgdGhpcy5yZUVudGVyUGhvbmUoKSA9PSBmYWxzZSB8fCB0aGlzLnJlRW50ZXJQYXNzKCkgPT0gZmFsc2UgfHwgdGhpcy5pc01hdGNoSWQoKSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5wbGF5KHRoaXMuZmFpbCwgZmFsc2UsIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGlzTWF0Y2hJZCgpIHtcclxuICAgICAgICBpZiAodGhpcy51c2VybmFtZS5zdHJpbmcubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICB0aGlzLmxvd0lkLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG93SWQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZmluZElkKHRoaXMudXNlcm5hbWUuc3RyaW5nKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmluZElkKHRoaXMudXNlcm5hbWUuc3RyaW5nKSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoSWQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hJZC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBmaW5kSWQodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5fbGlzdElkLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuX2xpc3RJZC5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID09IHRoaXMuX2xpc3RJZFtpbmRleF0pIHtcclxuICAgICAgICAgICAgICAgIGNjLmxvZyhcInZhbHVlIFwiICsgdGhpcy5fbGlzdElkW2luZGV4XSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcbiAgICBsb3dQYXNzd29yZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXNzd29yZC5zdHJpbmcubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICB0aGlzLmxvd1Bhc3MuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5yZVBhc3MuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG93UGFzcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5yZUVudGVyUGFzcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlRW50ZXJQYXNzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhc3N3b3JkLnN0cmluZyAhPSB0aGlzLmNvbmZpcm1QYXNzLnN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLnJlUGFzcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmxvd1Bhc3MuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVQYXNzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmxvd1Bhc3MuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZUVudGVyUGhvbmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGhvbmVOdW1iZXIuc3RyaW5nID09IFwiXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5yZVBob25lLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnBsYXkodGhpcy5mYWlsLCBmYWxzZSwgMSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZVBob25lLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGluZm9ybWF0aW9uVXNlcigpIHtcclxuICAgICAgICB0aGlzLmlkSW5mby5zdHJpbmcgPSB0aGlzLl9saXN0SWRbdGhpcy5fbGlzdElkLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIHRoaXMucGFzc0luZm8uc3RyaW5nID0gdGhpcy5fbGlzdFBhc3NbdGhpcy5fbGlzdFBhc3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgdGhpcy5waG9uZUluZm8uc3RyaW5nID0gdGhpcy5fbGlzdFBob25lW3RoaXMuX2xpc3RQaG9uZS5sZW5ndGggLSAxXTtcclxuICAgIH0sXHJcblxyXG4gICAgaW5mb1RhYmxlKCkge1xyXG4gICAgICAgIGxldCBpdGVtID0gY2MuaW5zdGFudGlhdGUodGhpcy51c2VySW5mbyk7XHJcbiAgICAgICAgdGhpcy5jb250ZW50VXNlci5hZGRDaGlsZChpdGVtKTtcclxuICAgICAgICBsZXQgdXNlck5vZGUgPSBpdGVtLmdldENoaWxkQnlOYW1lKFwidXNlck5vZGVcIik7XHJcbiAgICAgICAgbGV0IHBhc3NOb2RlID0gaXRlbS5nZXRDaGlsZEJ5TmFtZShcInBhc3NOb2RlXCIpO1xyXG4gICAgICAgIGxldCBwaG9uZU5vZGUgPSBpdGVtLmdldENoaWxkQnlOYW1lKFwicGhvbmVOb2RlXCIpO1xyXG5cclxuICAgICAgICBsZXQgdXNlcnR4dCA9IHVzZXJOb2RlLmdldENoaWxkQnlOYW1lKFwidXNlcnR4dFwiKTtcclxuICAgICAgICBsZXQgcGFzc3R4dCA9IHBhc3NOb2RlLmdldENoaWxkQnlOYW1lKFwicGFzc3R4dFwiKTtcclxuICAgICAgICBsZXQgcGhvbmV0eHQgPSBwaG9uZU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJwaG9uZXR4dFwiKTtcclxuXHJcbiAgICAgICAgbGV0IHVzZXJsYiA9IHVzZXJ0eHQuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICBsZXQgcGFzc2xiID0gcGFzc3R4dC5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgIGxldCBwaG9uZWxiID0gcGhvbmV0eHQuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuXHJcbiAgICAgICAgdXNlcmxiLnN0cmluZyA9IHRoaXMudXNlcm5hbWUuc3RyaW5nO1xyXG4gICAgICAgIHBhc3NsYi5zdHJpbmcgPSB0aGlzLnBhc3N3b3JkLnN0cmluZztcclxuICAgICAgICBwaG9uZWxiLnN0cmluZyA9IHRoaXMucGhvbmVOdW1iZXIuc3RyaW5nO1xyXG5cclxuICAgIH0sXHJcbiAgICBuZXdTaWdudXAoKSB7XHJcbiAgICAgICAgdGhpcy51c2VybmFtZS5zdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMucGFzc3dvcmQuc3RyaW5nID0gXCJcIjtcclxuICAgICAgICB0aGlzLmNvbmZpcm1QYXNzLnN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5waG9uZU51bWJlci5zdHJpbmcgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxufSk7XHJcbiJdfQ==