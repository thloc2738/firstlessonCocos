window.__require=function t(e,n,i){function o(r,c){if(!n[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+r+"'")}}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return o(e[r][1][t]||t)},u,u.exports,t,e,n,i)}return n[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(t,e,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function s(t){return"number"==typeof t}function r(t){return"object"==typeof t&&null!==t}function c(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!s(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,s,a,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(c(n=this._events[t]))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(r(n))for(s=Array.prototype.slice.call(arguments,1),i=(l=n.slice()).length,a=0;a<i;a++)l[a].apply(this,s);return!0},i.prototype.addListener=function(t,e){var n;if(!o(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(n=c(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){if(!o(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var n,i,s,c;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(n=this._events[t]).length,i=-1,n===e||o(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(c=s;c-- >0;)if(n[c]===e||n[c].listener&&n[c].listener===e){i=c;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(o(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(o(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},{}],HelloWorld:[function(t,e,n){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){this.label.string=this.text},update:function(t){}}),cc._RF.pop()},{}],bullet:[function(t,e,n){"use strict";cc._RF.push(e,"a22afRyQHRNkJyk2dmtTZzG","bullet"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(t,e){0==t.tag&&3==e.tag&&this.node.destroy()},onCollisionStay:function(t,e){},onCollisionExit:function(t,e){},start:function(){}}),cc._RF.pop()},{}],enemy:[function(t,e,n){"use strict";cc._RF.push(e,"4e58f1dRN9MnZxSiacN9Ruk","enemy");t("registerEvent");cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(t,e){console.log("on collision enter"),3==t.tag&&1==e.tag&&this.node.destroy()},onCollisionStay:function(t,e){console.log("on collision stay")},onCollisionExit:function(t,e){console.log("on collision exit")},start:function(){},update:function(t){}}),cc._RF.pop()},{registerEvent:"registerEvent"}],ground:[function(t,e,n){"use strict";cc._RF.push(e,"194563rwcRL96FkZ8xSCQyj","ground"),cc.Class({extends:cc.Component,properties:{player:cc.Node},onLoad:function(){var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDebugDraw=!0},start:function(){},onCollisionEnter:function(t,e){cc.warn("1234")},onCollisionStay:function(t,e){console.log("on collision stay"),cc.log("other: "+t),cc.log("self: "+e)},onCollisionExit:function(t,e){console.log("on collision exit"),cc.log("other: "+t),cc.log("self: "+e)},update:function(t){}}),cc._RF.pop()},{}],mainController:[function(t,e,n){"use strict";cc._RF.push(e,"98b400MtORNBZWh8gOfBTvM","mainController");var i=t("registerEvent");cc.Class({extends:cc.Component,properties:{player:cc.Node},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onCollisionEnter:function(t,e){0==t.tag&&0==e.tag&&this.jump_Move()},onCollisionStay:function(t,e){},onCollisionExit:function(t,e){},start:function(){},update:function(t){},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.up:i.instance.emit("JUMP");break;case cc.macro.KEY.left:i.instance.emit("Go_left");break;case cc.macro.KEY.right:i.instance.emit("Go_right");break;case cc.macro.KEY.space:i.instance.emit("SHOOTING")}}}),cc._RF.pop()},{registerEvent:"registerEvent"}],moveAction:[function(t,e,n){"use strict";cc._RF.push(e,"b3d3dIEv39FGqNxLCaM02x9","moveAction");var i=t("registerEvent");cc.Class({extends:cc.Component,properties:{target:cc.Node,mainScene:cc.Node,bullet:cc.Prefab,walkSoundd:cc.AudioClip,shootSound:cc.AudioClip},onLoad:function(){var t=this;i.instance=new i,i.instance.registerEvent("Go_left",this.goLeft.bind(this)),i.instance.registerEvent("Go_right",this.goRight.bind(this)),i.instance.registerEvent("JUMP",this.goJump.bind(this)),i.instance.registerEvent("SHOOTING",this.goShoot.bind(this)),this.node.getComponent("sp.Skeleton").setAnimation(0,"idle",!0),this.node.getComponent("sp.Skeleton").setEventListener(function(e,n){t.current=cc.audioEngine.play(t.walkSoundd,!1,1)})},goLeft:function(){if(this.target.scaleX=-.1,this.target.scaleY=.1,this.target.x<=-442)this.target.x=420,this.target.getComponent("sp.Skeleton").setAnimation(0,"portal",!1),this.target.getComponent("sp.Skeleton").addAnimation(0,"idle",!0);else{this.target.getComponent("sp.Skeleton").setAnimation(0,"run",!1),this.target.getComponent("sp.Skeleton").addAnimation(0,"idle",!0);var t=cc.moveBy(.5,-50,0);this.target.runAction(t)}},goRight:function(){if(this.target.getComponent("sp.Skeleton").setAnimation(0,"run",!1),this.target.getComponent("sp.Skeleton").addAnimation(0,"idle",!0),this.target.scaleX=.1,this.target.scaleY=.1,this.target.x>=440)this.target.x=-430,this.target.getComponent("sp.Skeleton").setAnimation(0,"portal",!1),this.target.getComponent("sp.Skeleton").addAnimation(0,"idle",!0);else{var t=cc.moveBy(.5,50,0);this.target.runAction(t)}},goJump:function(){var t=this.target.getComponent("sp.Skeleton");if(t.setAnimation(0,"jump",!1),t.addAnimation(0,"run",!1),this.target.scaleX>0)if(this.target.x>=440)this.target.x=440;else{var e=cc.sequence(cc.moveBy(.4,15,50),cc.moveBy(.4,15,-50));this.target.runAction(e)}else if(this.target.x<=-442)this.target.x=-442;else{e=cc.sequence(cc.moveBy(.4,-15,50),cc.moveBy(.4,-15,-50));this.target.runAction(e)}},goShoot:function(){var t=this;this.current=cc.audioEngine.play(this.shootSound,!1,1);var e=cc.instantiate(this.bullet);this.target.getComponent("sp.Skeleton").setAnimation(0,"shoot",!1),this.target.getComponent("sp.Skeleton").addAnimation(0,"idle",!0);var n=cc.sequence(cc.delayTime(.2),cc.callFunc(function(){var n=void 0;t.mainScene.addChild(e),t.target.scaleX>0?(e.x=t.target.x+35,e.y=t.target.y+20,n=cc.moveBy(20,2e4,0)):(e.x=t.target.x-35,e.y=t.target.y+20,n=cc.moveBy(20,-2e4,0)),e.runAction(n)}));e.runAction(n),cc.log(this.target.x)},start:function(){}}),cc._RF.pop()},{registerEvent:"registerEvent"}],playerControl:[function(t,e,n){"use strict";cc._RF.push(e,"02fdc9Fiz9LVrsrWs8cB68C","playerControl");var i=t("registerEvent");cc.Class({extends:cc.Component,properties:{isTouch:!1,player:cc.Node,_tagOther:1,countTime:0,delayAnim:!1,walkSound:cc.AudioClip,shootSound:cc.AudioClip},onLoad:function(){var t=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.left_Move,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.right_Move,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.jump_move,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.shooting_move,this),this.player.getComponent("sp.Skeleton").setAnimation(0,"run",!0);var e=cc.director.getCollisionManager();e.enabled=!0,e.enabledDebugDraw=!0,this.player.getComponent("sp.Skeleton").setEventListener(function(e,n){var i=n.data;cc.log(i.name),t.current=cc.audioEngine.play(t.walkSound,!1,1)})},jump_move:function(t){switch(t.keyCode){case cc.macro.KEY.up:i.instance.emit("MOVE_JUMP")}},left_Move:function(t){switch(t.keyCode){case cc.macro.KEY.left:i.instance.emit("MOVE_LEFT")}},right_Move:function(t){switch(t.keyCode){case cc.macro.KEY.right:i.instance.emit("MOVE_RIGHT")}},shooting_move:function(t){switch(t.keyCode){case cc.macro.KEY.space:i.instance.emit("SHOOTING")}},onCollisionEnter:function(t,e){console.log("on collision enter"),0==t.tag&&0==e.tag&&this.jump(),1==t.tag&&1==e.tag&&(this.delayAnim=!0,cc.audioEngine.play(this.shootSound,!1,1),this.shoot()),2==t.tag&&0==e.tag&&(this.player.scaleX*=-1)},shoot:function(){var t=this.player.getComponent("sp.Skeleton");t.setAnimation(0,"shoot",!1),t.addAnimation(0,"run",!0)},onCollisionStay:function(t,e){},onCollisionExit:function(t,e){},jump:function(){if(this.animJump(),this.player.scaleX>=0)var t=cc.sequence(cc.moveBy(.4,20,20),cc.moveBy(.4,20,-20));else t=cc.sequence(cc.moveBy(.4,-20,20),cc.moveBy(.4,-20,-20));this.player.runAction(t)},animJump:function(){var t=this.player.getComponent("sp.Skeleton");t.setAnimation(0,"jump",!1),t.addAnimation(0,"run",!0),this.isTouch=!1},update:function(t){var e=this;if(this.delayAnim){var n=cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.delayAnim=!1}));this.player.runAction(n)}else 0==this.isTouch&&(this.node.scaleX>=0?this.node.x+=70*t:this.node.x-=70*t)}}),cc._RF.pop()},{registerEvent:"registerEvent"}],player:[function(t,e,n){"use strict";cc._RF.push(e,"9c851H728FEnrRA/6GhASqV","player"),cc.Class({extends:cc.Component,properties:{target:cc.Node,isTouch:!1,deltatime:0},onLoad:function(){var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDebugDraw=!0,this.spAnim.setEventListener(function(t,e){var n=e.data;cc.log(n.name)})},start:function(){},onCollisionEnter:function(t,e){console.log("on collision enter"),this.isTouch=!0},onCollisionStay:function(t,e){console.log("on collision stay")},onCollisionExit:function(t,e){console.log("on collision exit")},update:function(t){0==this.isTouch?this.target.y-=50*t:(this.deltatime+=t,this.deltatime>=2&&(this.target.y+=50*t))}}),cc._RF.pop()},{}],registerEvent:[function(t,e,n){"use strict";cc._RF.push(e,"1de1831gEZJZqD+2rDFnCNY","registerEvent");var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=t("events"),r=function(){function t(){o(this,t),this._emiter=new s,this._emiter.setMaxListeners(100)}return i(t,[{key:"emit",value:function(){var t;(t=this._emiter).emit.apply(t,arguments)}},{key:"registerEvent",value:function(t,e){this._emiter.on(t,e)}},{key:"registerOnce",value:function(t,e){this._emiter.once(t,e)}},{key:"removeEvent",value:function(t,e){this._emiter.removeListener(t,e)}},{key:"destroy",value:function(){this._emiter.removeAllListeners(),this._emiter=null,t.instance=null}}]),t}();r.instance=null,e.exports=r,cc._RF.pop()},{events:1}],testAnimation:[function(t,e,n){"use strict";cc._RF.push(e,"fed93bMIWZNlK+VKu7OSiG6","testAnimation"),cc.Class({extends:cc.Component,properties:{spAnim:sp.Skeleton},onLoad:function(){this.spAnim.setEventListener(function(t,e){var n=e.data;cc.log(n.name)})},start:function(){this.spAnim.setAnimation(0,"idle",!1),this.spAnim.addAnimation(0,"aim",!1),this.spAnim.addAnimation(0,"run",!1),this.spAnim.addAnimation(0,"run",!1),this.spAnim.addAnimation(0,"run",!1),this.spAnim.addAnimation(0,"run",!1),this.spAnim.addAnimation(0,"run",!1),this.spAnim.addAnimation(0,"death",!1),this.spAnim.addAnimation(0,"hoverboard",!1),this.spAnim.addAnimation(0,"idle-turn",!1),this.spAnim.addAnimation(0,"portal",!1),this.spAnim.addAnimation(0,"run",!1),this.spAnim.addAnimation(0,"run-to-idle",!1),this.spAnim.addAnimation(0,"shoot",!1),this.spAnim.addAnimation(0,"walk",!1)}}),cc._RF.pop()},{}]},{},["HelloWorld","bullet","enemy","ground","mainController","moveAction","player","playerControl","registerEvent","testAnimation"]);